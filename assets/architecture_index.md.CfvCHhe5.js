import{_ as l,C as c,c as h,o as r,a1 as a,b as s,w as t,a as n,G as i,a2 as d}from"./chunks/framework.DLN2USm2.js";const C=JSON.parse('{"title":"Architecture Overview","description":"","frontmatter":{},"headers":[],"relativePath":"architecture/index.md","filePath":"architecture/index.md"}'),p={name:"architecture/index.md"};function u(A,e,g,m,b,f){const o=c("Mermaid");return r(),h("div",null,[e[2]||(e[2]=a('<h1 id="architecture-overview" tabindex="-1">Architecture Overview <a class="header-anchor" href="#architecture-overview" aria-label="Permalink to &quot;Architecture Overview&quot;">​</a></h1><p>The homelab is designed around a few core principles:</p><ol><li><strong>GitOps-first</strong> - All configuration lives in Git, ArgoCD deploys everything</li><li><strong>High availability</strong> - Critical services run replicated across nodes</li><li><strong>Resource efficiency</strong> - ARM-based nodes keep power consumption low</li><li><strong>Separation of concerns</strong> - Dedicated nodes for specialized workloads</li></ol><h2 id="network-topology" tabindex="-1">Network Topology <a class="header-anchor" href="#network-topology" aria-label="Permalink to &quot;Network Topology&quot;">​</a></h2>',4)),(r(),s(d,null,{default:t(()=>[i(o,{id:"mermaid-31",class:"mermaid",graph:"flowchart%20TB%0A%20%20%20%20subgraph%20Internet%0A%20%20%20%20%20%20%20%20inet((Internet))%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Edge%5B%22Edge%20Layer%22%5D%0A%20%20%20%20%20%20%20%20cf%5BCloudflare%20Tunnel%3Cbr%2F%3EZero%20Trust%20Access%5D%0A%20%20%20%20%20%20%20%20traefik%5BTraefik%20Ingress%3Cbr%2F%3ETLS%20termination%20%26%20routing%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Cluster%5B%22K3s%20Cluster%22%5D%0A%20%20%20%20%20%20%20%20subgraph%20ControlPlane%5B%22Control%20Plane%20%2B%20etcd%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20m1%5Bpsyk3s1%3Cbr%2F%3Emaster%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20m2%5Bpsyk3s2%3Cbr%2F%3Emaster%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20m3%5Bpsyk3s3%3Cbr%2F%3Emaster%5D%0A%20%20%20%20%20%20%20%20end%0A%0A%20%20%20%20%20%20%20%20subgraph%20Workers%5B%22Worker%20Nodes%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20w1%5Bpsyk3s4%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20w2%5Bpsyk3s5%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20w3%5Bpsyk3s6%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20w4%5Bpsyk3s7%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20w5%5Bpsyk3s8%5D%0A%20%20%20%20%20%20%20%20end%0A%0A%20%20%20%20%20%20%20%20subgraph%20AI%5B%22AI%20Inference%20Nodes%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20ai1%5Bpsyaimax%3Cbr%2F%3EROCm%20%2F%20AMD%20GPU%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20ai2%5Bpsy4090%3Cbr%2F%3ECUDA%20%2F%20NVIDIA%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Storage%5B%22Storage%20Layer%22%5D%0A%20%20%20%20%20%20%20%20longhorn%5B(Longhorn%3Cbr%2F%3EDistributed%20Storage)%5D%0A%20%20%20%20end%0A%0A%20%20%20%20inet%20--%3E%20cf%0A%20%20%20%20cf%20--%3E%20traefik%0A%20%20%20%20traefik%20--%3E%20ControlPlane%0A%20%20%20%20ControlPlane%20--%3E%20Workers%0A%20%20%20%20ControlPlane%20--%3E%20AI%0A%20%20%20%20Workers%20--%3E%20longhorn%0A%20%20%20%20AI%20--%3E%20longhorn%0A"})]),fallback:t(()=>[...e[0]||(e[0]=[n(" Loading... ",-1)])]),_:1})),e[3]||(e[3]=a('<h2 id="node-roles" tabindex="-1">Node Roles <a class="header-anchor" href="#node-roles" aria-label="Permalink to &quot;Node Roles&quot;">​</a></h2><p>Each node has a specific purpose, controlled through Kubernetes taints and tolerations:</p><table tabindex="0"><thead><tr><th>Node</th><th>Role</th><th>Taint</th></tr></thead><tbody><tr><td><strong>psyk3s1</strong></td><td>Omada Controller</td><td><code>network-controller-host=true:NoSchedule</code></td></tr><tr><td><strong>psyk3s2</strong></td><td>Unifi Controller</td><td><code>network-controller-host=true:NoSchedule</code></td></tr><tr><td><strong>psyk3s3</strong></td><td>Semaphore (Ansible UI)</td><td><code>node-management=true:NoSchedule</code></td></tr><tr><td><strong>psyk3s4-8</strong></td><td>General workloads</td><td>None</td></tr><tr><td><strong>psyaimax</strong></td><td>ROCm AI inference</td><td><code>rocm-inference=true:NoSchedule</code></td></tr><tr><td><strong>psy4090</strong></td><td>CUDA AI inference</td><td><code>cuda-inference=true:NoSchedule</code></td></tr></tbody></table><h2 id="storage-architecture" tabindex="-1">Storage Architecture <a class="header-anchor" href="#storage-architecture" aria-label="Permalink to &quot;Storage Architecture&quot;">​</a></h2><p>Longhorn provides distributed block storage with:</p><ul><li><strong>3x replication</strong> for critical data</li><li><strong>NVMe-backed</strong> storage on each Pi</li><li><strong>Automatic snapshots</strong> and backup to S3</li><li><strong>RWO volumes</strong> for most workloads</li></ul><h2 id="gitops-flow" tabindex="-1">GitOps Flow <a class="header-anchor" href="#gitops-flow" aria-label="Permalink to &quot;GitOps Flow&quot;">​</a></h2>',7)),(r(),s(d,null,{default:t(()=>[i(o,{id:"mermaid-152",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20edit%5BEdit%3Cbr%2F%3Evalues.yaml%5D%20--%3E%20commit%5BCommit%3Cbr%2F%3Elocally%5D%0A%20%20%20%20commit%20--%3E%20push%5BPush%20to%3Cbr%2F%3EGitHub%5D%0A%20%20%20%20push%20--%3E%20argocd%5BArgoCD%3Cbr%2F%3Edetects%5D%0A%20%20%20%20argocd%20--%3E%20sync%5BSync%3Cbr%2F%3Eapp%5D%0A%20%20%20%20sync%20--%3E%20deploy%5BDeployed%3Cbr%2F%3Eto%20cluster%5D%0A"})]),fallback:t(()=>[...e[1]||(e[1]=[n(" Loading... ",-1)])]),_:1}))])}const D=l(p,[["render",u]]);export{C as __pageData,D as default};
