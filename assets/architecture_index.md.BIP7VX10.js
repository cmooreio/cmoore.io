import{_ as i}from"./chunks/NetworkTopology.Ce16zvra.js";import{C as a,o as n,c as l,ag as e,G as o,w as s}from"./chunks/framework.DydSEmA7.js";const p=JSON.parse('{"title":"Architecture Overview","description":"","frontmatter":{"prev":{"text":"Home","link":"/"},"next":{"text":"Software","link":"/components/"}},"headers":[],"relativePath":"architecture/index.md","filePath":"architecture/index.md"}'),d={name:"architecture/index.md"},m=Object.assign(d,{setup(c){return(h,t)=>{const r=a("ClientOnly");return n(),l("div",null,[t[0]||(t[0]=e('<h1 id="architecture-overview" tabindex="-1">Architecture Overview <a class="header-anchor" href="#architecture-overview" aria-label="Permalink to &quot;Architecture Overview&quot;">​</a></h1><p>The homelab is designed around a few core principles:</p><ol><li><strong>GitOps-first</strong> - All configuration lives in Git, ArgoCD deploys everything</li><li><strong>High availability</strong> - Critical services run replicated across nodes</li><li><strong>Resource efficiency</strong> - ARM-based nodes keep power consumption low</li><li><strong>Separation of concerns</strong> - Dedicated nodes for specialized workloads</li></ol><h2 id="network-topology" tabindex="-1">Network Topology <a class="header-anchor" href="#network-topology" aria-label="Permalink to &quot;Network Topology&quot;">​</a></h2>',4)),o(r,null,{default:s(()=>[o(i)]),_:1}),t[1]||(t[1]=e('<h2 id="node-roles" tabindex="-1">Node Roles <a class="header-anchor" href="#node-roles" aria-label="Permalink to &quot;Node Roles&quot;">​</a></h2><p>Each node has a specific purpose, controlled through Kubernetes taints and tolerations:</p><table tabindex="0"><thead><tr><th>Node</th><th>Role</th><th>Taint</th></tr></thead><tbody><tr><td><strong>rpi1</strong></td><td>Omada Controller</td><td><code>network-controller-host=true:NoSchedule</code></td></tr><tr><td><strong>rpi2</strong></td><td>Unifi Controller</td><td><code>network-controller-host=true:NoSchedule</code></td></tr><tr><td><strong>rpi3</strong></td><td>Semaphore (Ansible UI)</td><td><code>node-management=true:NoSchedule</code></td></tr><tr><td><strong>rpi4-8</strong></td><td>General workloads</td><td>None</td></tr><tr><td><strong>aimax</strong></td><td>ROCm AI inference + Observium</td><td><code>rocm-inference=true:NoSchedule</code></td></tr><tr><td><strong>thor</strong></td><td>CUDA AI inference</td><td><code>cuda-inference=true:NoSchedule</code></td></tr></tbody></table><h2 id="storage-architecture" tabindex="-1">Storage Architecture <a class="header-anchor" href="#storage-architecture" aria-label="Permalink to &quot;Storage Architecture&quot;">​</a></h2><p>Longhorn provides distributed block storage with:</p><ul><li><strong>3x replication</strong> for critical data</li><li><strong>NVMe-backed</strong> storage on each Pi</li><li><strong>Automatic snapshots</strong> and backup to S3</li><li><strong>RWO volumes</strong> for most workloads</li></ul><h2 id="gitops-flow" tabindex="-1">GitOps Flow <a class="header-anchor" href="#gitops-flow" aria-label="Permalink to &quot;GitOps Flow&quot;">​</a></h2><p>All changes flow through Git:</p><ol><li><strong>Edit</strong> - Modify Helm values or manifests locally</li><li><strong>Commit</strong> - Pre-commit hooks validate YAML, Helm charts, and scan for secrets</li><li><strong>Push</strong> - Push to GitHub repository</li><li><strong>Detect</strong> - ArgoCD detects changes (3-minute sync interval)</li><li><strong>Deploy</strong> - Changes automatically applied to cluster</li></ol>',9))])}}});export{p as __pageData,m as default};
