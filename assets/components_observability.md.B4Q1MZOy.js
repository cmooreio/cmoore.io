import{_ as e,c as r,o as a,ag as o}from"./chunks/framework.CI6Ra_OS.js";const u=JSON.parse('{"title":"Observability","description":"","frontmatter":{"prev":{"text":"Infrastructure","link":"/components/infrastructure"},"next":{"text":"AI Inference","link":"/components/ai-inference"}},"headers":[],"relativePath":"components/observability.md","filePath":"components/observability.md"}'),s={name:"components/observability.md"};function n(i,t,l,d,c,h){return a(),r("div",null,[...t[0]||(t[0]=[o('<h1 id="observability" tabindex="-1">Observability <a class="header-anchor" href="#observability" aria-label="Permalink to &quot;Observability&quot;">​</a></h1><p>Full-stack monitoring with metrics, logs, alerting, and network monitoring.</p><h2 id="prometheus" tabindex="-1">Prometheus <a class="header-anchor" href="#prometheus" aria-label="Permalink to &quot;Prometheus&quot;">​</a></h2><p><a href="https://prometheus.io/" target="_blank" rel="noreferrer">Prometheus</a> collects time-series metrics from all cluster services and nodes. It runs as a <strong>StatefulSet</strong> with persistent storage for metric retention.</p><table tabindex="0"><thead><tr><th>Setting</th><th>Value</th></tr></thead><tbody><tr><td><strong>Scrape interval</strong></td><td>60 seconds</td></tr><tr><td><strong>Evaluation interval</strong></td><td>60 seconds</td></tr><tr><td><strong>Storage</strong></td><td>Longhorn PVC</td></tr><tr><td><strong>Deployment</strong></td><td>StatefulSet</td></tr></tbody></table><div class="info custom-block"><p class="custom-block-title">Why 60-second intervals?</p><p>The evaluation interval is set to 60 seconds (not the typical 30s) to prevent slow aggregation queries on the ARM-based nodes. Shorter intervals can cause query timeouts with complex recording rules.</p></div><h2 id="grafana" tabindex="-1">Grafana <a class="header-anchor" href="#grafana" aria-label="Permalink to &quot;Grafana&quot;">​</a></h2><p><a href="https://grafana.com/" target="_blank" rel="noreferrer">Grafana</a> provides visualization dashboards connected to both Prometheus (metrics) and Loki (logs) as data sources. Pre-built dashboards cover cluster health, node resources, and application-specific metrics.</p><h2 id="loki" tabindex="-1">Loki <a class="header-anchor" href="#loki" aria-label="Permalink to &quot;Loki&quot;">​</a></h2><p><a href="https://grafana.com/oss/loki/" target="_blank" rel="noreferrer">Loki</a> aggregates logs from all pods using a label-based indexing approach similar to Prometheus. It pairs with Grafana for log exploration and correlation with metrics.</p><h2 id="alertmanager" tabindex="-1">Alertmanager <a class="header-anchor" href="#alertmanager" aria-label="Permalink to &quot;Alertmanager&quot;">​</a></h2><p><a href="https://prometheus.io/docs/alerting/latest/alertmanager/" target="_blank" rel="noreferrer">Alertmanager</a> handles alert routing, deduplication, and notification delivery. Alerts from Prometheus are routed to <strong>Discord</strong> for real-time notifications.</p><h2 id="observium" tabindex="-1">Observium <a class="header-anchor" href="#observium" aria-label="Permalink to &quot;Observium&quot;">​</a></h2><p><a href="https://www.observium.org/" target="_blank" rel="noreferrer">Observium</a> provides SNMP-based network monitoring for switches, routers, and infrastructure devices.</p><table tabindex="0"><thead><tr><th>Setting</th><th>Value</th></tr></thead><tbody><tr><td><strong>Node</strong></td><td>aimax (amd64-only image)</td></tr><tr><td><strong>Database</strong></td><td>MariaDB (StatefulSet)</td></tr><tr><td><strong>SNMP polling</strong></td><td>Uses host IP via flannel masquerade</td></tr><tr><td><strong>LoadBalancer IP</strong></td><td><code>192.168.64.116</code></td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>SNMP polls originate from the pod&#39;s host IP due to flannel masquerade. Ensure network devices have SNMP ACLs that permit the node&#39;s IP address.</p></div>',16)])])}const p=e(s,[["render",n]]);export{u as __pageData,p as default};
